<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: black;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        #overlay-text {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 5vw;
            font-weight: bold;
            text-align: center;
            z-index: 10;
            text-shadow: 2px 2px 4px black;
        }

        #logo-section {
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            width: 30vw;
            height: 30vw;
            background-image: url('style/logo.png');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            z-index: 20;
        }

        @media (orientation: portrait) {
            #logo-section {
                width: 45vw;
                height: 45vw;
            }
        }

        #text-section {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            height: 10vh;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            font-size: 2vw;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 5;
            transform: translateY(-100%);
        }

        #video-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); 
            grid-template-rows: repeat(3, 33vh);  /* 3 řady pro mobil */
            width: 100vw;
            position: relative;
            animation: scroll-up 60s linear infinite;
            overflow: hidden;
            will-change: transform;
        }

        @keyframes scroll-up {
            0% {
                transform: translateY(100%);
            }
            100% {
                transform: translateY(-100%);
            }
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.7;
            border-radius: 15px;
        }

        /* Media query pro mobilní zařízení */
        @media (max-width: 768px) {
            #video-container {
                grid-template-columns: repeat(auto-fill, minmax(33%, 1fr)); /* 3 videa na řádku */
                grid-template-rows: repeat(3, 33vh); /* Tři řady videí, každá s výškou 33% výšky obrazovky */
            }

            /* Zajištění správného poměru stran 1:1 pro videa */
            video {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            #video-container {
                animation: scroll-up 180s linear infinite; /* Zpomalíme animaci pro mobil */
            }
        }

        @media (min-width: 1024px) {
            #logo-section {
                top: 10%;
            }
            #center-section {
                top: 60%;
            }
        }

        #center-section {
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 15px;
            width: 80%;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            z-index: 10;
        }

        .inner-text {
            color: white;
            font-size: 2vw;
            margin: 10px 0;
            text-align: center;
            flex-grow: 1;
        }

        @media (min-width: 768px) {
            #center-section {
                flex-direction: row;
                justify-content: space-between;
            }

            .inner-text {
                font-size: 1.5vw;
                flex-grow: 1;
            }
        }
    </style>
</head>
<body>

    <div id="logo-section"></div>

    <div id="center-section">
        <div class="inner-text"><h2>Final Dimension</h2>Filip pracoval jako grafik ve firmě...</div>
        <div class="inner-text"> <h2>Filip Duda</h2> si sedl k Veronice...</div>
    </div>

    <div id="video-container"></div>

    <script>
        const videoFolder = 'videa/';
        const videoCount = 8;
        const videoContainer = document.getElementById('video-container');

        function addRandomVideo() {
            const randomVideo = Math.floor(Math.random() * videoCount) + 1;
            const videoElement = document.createElement('video');
            videoElement.src = `${videoFolder}${randomVideo}.mp4`;
            videoElement.autoplay = true;
            videoElement.loop = true;
            videoElement.muted = true;
            videoElement.playsInline = true;
            videoElement.preload = "auto";
            videoElement.setAttribute('controls', ''); 
            videoContainer.appendChild(videoElement);
        }

        function fillVideos() {
            const rows = 3; // Počet řad (tři řady)
            const cols = Math.ceil(window.innerWidth / (window.innerHeight / 3)); // Dynamicky přizpůsobíme sloupce na základě šířky
            const totalVideos = rows * cols;
            videoContainer.innerHTML = ''; // Vyčistíme předchozí videa
            for (let i = 0; i < totalVideos; i++) {
                addRandomVideo();
            }

            const containerHeight = Math.ceil(totalVideos / cols) * (window.innerHeight / 3); // Dynamicky nastavujeme výšku
            videoContainer.style.height = `${containerHeight}px`;
        }

        window.onload = () => {
            fillVideos();
        };

        window.onresize = () => {
            fillVideos();
        };

        setInterval(() => {
            fillVideos();
        }, 6000000);
    </script>

    <script>
        if ('wakeLock' in navigator) {
            let wakeLock = null;

            async function requestWakeLock() {
                try {
                    wakeLock = await navigator.wakeLock.request('screen');
                    console.log('Wake Lock is active');
                } catch (err) {
                    console.error('Failed to acquire wake lock', err);
                }
            }

            window.addEventListener('load', () => {
                requestWakeLock();
            });

            window.addEventListener('resize', () => {
                if (wakeLock !== null) {
                    wakeLock.release().then(() => {
                        requestWakeLock();
                    });
                }
            });
        } else {
            console.log("Wake Lock API isn't supported by this browser.");
        }
    </script>

</body>
</html>


